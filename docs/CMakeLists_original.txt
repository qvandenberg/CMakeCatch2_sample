cmake_minimum_required(VERSION 3.14)

set(CMAKE_CXX_STANDARD 14)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)


set(UNIT_TEST_LIST
  HomogeneousFP
  )

foreach(NAME IN LISTS UNIT_TEST_LIST)
  list(APPEND UNIT_TEST_SOURCE_LIST
    ${NAME}.test.cpp)
endforeach()

set(TARGET_NAME tests)

add_executable(${TARGET_NAME}
  main.cpp
  ${UNIT_TEST_SOURCE_LIST})



target_include_directories(${TARGET_NAME}
  PUBLIC catch2
  )

add_test(
  NAME ${TARGET_NAME}
  COMMAND ${TARGET_NAME} -o report.xml -r junit)

##################################
# Version preamble
cmake_minimum_required(VERSION 3.14)
project(cmake_standalone)

# Access to directories
include_directories(${PROJECT_SOURCE_DIR})


# Add source files
set(SOURCE_FILE_LIST
  HomogeneousFP
  )

foreach(NAME IN LISTS UNIT_TEST_LIST)
  list(APPEND SOURCE_FILE_LIST
    ${NAME}.cpp)
endforeach()

# Compile executable
add_executable(cmake_standalone
  main.cpp
  ${SOURCE_FILE_LIST})
